{
  "meta": {
    "@schema-model": "database",
    "@schema-version": "1",
    "created-by": "mfg",
    "created-at": "2022-06-03T22:12:00.000Z",
    "updated-by": "mfg",
    "updated-at": "2022-06-03T22:12:00.000Z"
  },
  "sec": {
    "definitions": {
      "def_id": {
        "columns": {
          "id": {
            "type": "char",
            "length": 32,
            "nullable": false
          }
        },
        "primary-key": ["id"]
      },
      "def_user_and_time": {
        "columns": {
          "created_by": {
            "type": "char",
            "length": 32,
            "nullable": false
          },
          "created_at": {
            "type": "timestamp",
            "nullable": false
          },
          "updated_by": {
            "type": "char",
            "length": 32,
            "nullable": false
          },
          "updated_at": {
            "type": "timestamp",
            "nullable": false
          }
        },
        "foreign-keys": {
          "fk_created_by": {
            "real": false,
            "reference-table": "user",
            "columns": {
              "created_by": "id"
            }
          },
          "fk_updated_by": {
            "real": false,
            "reference-table": "user",
            "columns": {
              "updated_by": "id"
            }
          }
        }
      }
    },
    "tables": {
      "authority": {
        "appends": {
          "def_id": {
            "column-anchor": "head"
          },
          "def_user_and_time": {
            "column-anchor": "tail"
          }
        },
        "columns": {
          "id": {
            "type": "char",
            "length": 32,
            "nullable": false
          },
          "name": {
            "type": "varchar",
            "length": 250,
            "nullable": false
          },
          "discriminator": {
            "type": "char",
            "length": 4,
            "enum-values": {
              "user": "user",
              "role": "role"
            },
            "nullable": false
          },
          "status": {
            "type": "char",
            "length": 1,
            "enum-values": {
              "active": "A",
              "inactive": "X",
              "pending": "P"
            },
            "nullable": false
          }
        },
        "indexes": {
          "uk_authority": {
            "real": true,
            "unique": true,
            "columns": ["name", "discriminator"]
          }
        }
      },
      "user": {
        "appends": {
          "def_id": {
            "column-anchor": "head"
          }
        },
        "columns": {
          "email": {
            "type": "varchar",
            "length": 250
          }
        },
        "foreign-keys": {
          "fk_user_authority": {
            "real": true,
            "reference-table": "authority",
            "columns": {
              "id": "id"
            }
          }
        }
      },
      "role": {
        "appends": {
          "def_id": {
            "column-anchor": "head"
          }
        },
        "columns": {
          "info": {
            "type": "varchar",
            "length": 250
          }
        },
        "foreign-keys": {
          "fk_role_authority": {
            "real": true,
            "reference-table": "authority",
            "columns": {
              "id": "id"
            }
          }
        }
      },
      "privilege": {
        "appends": {
          "def_id": {
            "column-anchor": "head"
          },
          "def_user_and_time": {
            "column-anchor": "tail"
          }
        },
        "columns": {
          "name": {
            "type": "varchar",
            "length": 250
          },
          "info": {
            "type": "varchar",
            "length": 250
          }
        },
        "indexes": {
          "uk_privilege": {
            "real": true,
            "unique": true,
            "columns": ["name"]
          }
        }
      },
      "authority_privilege": {
        "columns": {
          "authority_id": {
            "type": "char",
            "length": 32
          },
          "privilege_id": {
            "type": "char",
            "length": 32
          }
        },
        "primary-key": ["authority_id", "privilege_id"],
        "foreign-keys": {
          "fk_authority_privilege_authority": {
            "real": true,
            "reference-table": "authority",
            "columns": {
              "authority_id": "id"
            }
          },
          "fk_authority_privilege_privilege": {
            "real": true,
            "reference-table": "privilege",
            "columns": {
              "privilege_id": "id"
            }
          }
        }
      }
    }
  }
}